{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return m}));var c=n(\"q1tI\"),i=n(\"/MKj\"),r=n(\"1Dl5\"),a=n(\"ODXe\"),o=n(\"qu0K\"),l=n.n(o),s=n(\"iJl9\"),u=n.n(s),d=n(\"4IMT\"),j=n.n(d),f=n(\"p+NB\"),b=n(\"3zrx\"),p=n(\"nKUr\");var O=function(){var e=Object(i.b)(),t=Object(b.a)(),n=Object(a.a)(t,3),r=n[0],o=n[1],s=n[2],d=Object(i.c)((function(e){return e.post})),O=d.imagePaths,h=d.addPostDone,m=Object(c.useRef)();Object(c.useEffect)((function(){h&&s(\"\")}),[h]);var w=Object(c.useCallback)((function(){if(!r||!r.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694\");var t=new FormData;return O.forEach((function(e){t.append(\"image\",e)})),t.append(\"content\",r),e({type:f.e,data:t})}),[r,O]),g=Object(c.useCallback)((function(){m.current.click()}),[m.current]),v=Object(c.useCallback)((function(t){console.log(\"images\",t.target.files);var n=new FormData;[].forEach.call(t.target.files,(function(e){n.append(\"image\",e)})),e({type:f.J,data:n})}),[]),x=Object(c.useCallback)((function(t){return function(){e({type:f.y,data:t})}}),[]);return Object(p.jsxs)(l.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:w,children:[Object(p.jsx)(u.a.TextArea,{value:r,onChange:o,maxLength:140,placeholder:\"Share your story\"}),Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:m,onChange:v}),Object(p.jsx)(j.a,{onClick:g,children:\"Image Upload\"}),Object(p.jsx)(j.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\",children:\"Twit\"})]}),Object(p.jsx)(\"div\",{children:O&&O.map((function(e,t){return Object(p.jsxs)(\"div\",{style:{display:\"inline-block\"},onClick:x(t),onKeyDown:x(t),role:\"presentation\",children:[Object(p.jsx)(\"img\",{src:\"http://localhost:3065/\".concat(e),style:{width:\"200px\"},alt:e}),Object(p.jsx)(\"div\",{children:Object(p.jsx)(j.a,{children:\"Remove\"})})]},e)}))})]})},h=n(\"UVsj\"),m=!0;t.default=function(){var e=Object(i.c)((function(e){return e.user})).user,t=Object(i.c)((function(e){return e.post})),n=t.mainPosts,a=t.hasMorePost,o=t.loadPostsLoading,l=t.retweetError,s=Object(i.b)();return Object(c.useEffect)((function(){l&&alert(l)}),[l]),Object(c.useEffect)((function(){function e(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&a&&!o){var e,t=null===(e=n[n.length-1])||void 0===e?void 0:e.id;console.log(\"lastId: \",t),s({type:f.n,lastId:t})}}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[a,o,n]),Object(p.jsxs)(r.a,{children:[e&&Object(p.jsx)(O,{}),n.map((function(e){return Object(p.jsx)(h.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,1,3,4,5,6]]]);","map":{"version":3,"sources":["static/chunks/pages/index-b8172d1159568db2908b.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","es","AppLayout","slicedToArray","lib_form","form_default","n","input","input_default","lib_button","button_default","reducers_post","useInput","jsx_runtime","component_PostForm","dispatch","Object","_useInput","_useInput2","text","onChangeText","SetText","_useSelector","state","post","imagePaths","addPostDone","imageInput","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","onClickImageUpload","current","click","onChangeImages","e","console","log","target","files","imageFormData","call","f","imageOnClick","index","a","style","margin","encType","onFinish","children","TextArea","value","onChange","maxLength","placeholder","name","multiple","hidden","ref","onClick","float","htmlType","map","v","i","display","onKeyDown","role","src","concat","width","alt","PostCard","user","_useSelector2","mainPosts","hasMorePost","loadPostsLoading","retweetError","onScroll","pageYOffset","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}
{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return b}));var c=n(\"q1tI\"),r=n(\"/MKj\"),i=n(\"1Dl5\"),a=n(\"ODXe\"),o=n(\"Vl3Y\"),l=n(\"5rEg\"),s=n(\"2/Rp\"),u=n(\"p+NB\"),d=n(\"3zrx\"),j=n(\"nKUr\");var f=function(){var e=Object(r.b)(),t=Object(d.a)(),n=Object(a.a)(t,3),i=n[0],f=n[1],p=n[2],b=Object(r.c)((function(e){return e.post})),O=b.imagePaths,h=b.addPostDone,m=Object(c.useRef)();Object(c.useEffect)((function(){h&&p(\"\")}),[h]);var g=Object(c.useCallback)((function(){if(!i||!i.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694\");var t=new FormData;return O.forEach((function(e){t.append(\"image\",e)})),t.append(\"content\",i),e({type:u.e,data:t})}),[i,O]),v=Object(c.useCallback)((function(){m.current.click()}),[m.current]),w=Object(c.useCallback)((function(t){console.log(\"images\",t.target.files);var n=new FormData;[].forEach.call(t.target.files,(function(e){n.append(\"image\",e)})),e({type:u.G,data:n})}),[]),x=Object(c.useCallback)((function(t){return function(){e({type:u.v,data:t})}}),[]);return Object(j.jsxs)(o.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:g,children:[Object(j.jsx)(l.a.TextArea,{value:i,onChange:f,maxLength:140,placeholder:\"Share your story\"}),Object(j.jsxs)(\"div\",{children:[Object(j.jsx)(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:m,onChange:w}),Object(j.jsx)(s.a,{onClick:v,children:\"Image Upload\"}),Object(j.jsx)(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\",children:\"Twit\"})]}),Object(j.jsx)(\"div\",{children:O&&O.map((function(e,t){return Object(j.jsxs)(\"div\",{style:{display:\"inline-block\"},onClick:x(t),onKeyDown:x(t),role:\"presentation\",children:[Object(j.jsx)(\"img\",{src:\"http://localhost:3065/\".concat(e),style:{width:\"200px\"},alt:e}),Object(j.jsx)(\"div\",{children:Object(j.jsx)(s.a,{children:\"Remove\"})})]},e)}))})]})},p=n(\"UVsj\"),b=!0;t.default=function(){var e=Object(r.c)((function(e){return e.user})).user,t=Object(r.c)((function(e){return e.post})),n=t.mainPosts,a=t.hasMorePost,o=t.loadPostsLoading,l=t.retweetError,s=Object(r.b)();return Object(c.useEffect)((function(){l&&alert(l)}),[l]),Object(c.useEffect)((function(){function e(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&a&&!o){var e,t=null===(e=n[n.length-1])||void 0===e?void 0:e.id;console.log(\"lastId: \",t),s({type:u.n,lastId:t})}}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[a,o,n]),Object(j.jsxs)(i.a,{children:[e&&Object(j.jsx)(f,{}),n.map((function(e){return Object(j.jsx)(p.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,6,1,3,4,5,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/index-61db0510f8b1cd40ab91.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","es","AppLayout","slicedToArray","es_form","input","es_button","reducers_post","useInput","jsx_runtime","component_PostForm","dispatch","Object","_useInput","_useInput2","text","onChangeText","SetText","_useSelector","state","post","imagePaths","addPostDone","imageInput","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","onClickImageUpload","current","click","onChangeImages","e","console","log","target","files","imageFormData","call","f","imageOnClick","index","style","margin","encType","onFinish","children","TextArea","value","onChange","maxLength","placeholder","name","multiple","hidden","ref","onClick","float","htmlType","map","v","i","display","onKeyDown","role","src","concat","width","alt","PostCard","user","_useSelector2","mainPosts","hasMorePost","loadPostsLoading","retweetError","onScroll","pageYOffset","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}
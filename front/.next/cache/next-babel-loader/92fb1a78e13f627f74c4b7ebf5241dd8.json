{"ast":null,"code":"import React from 'react';\nimport { useDispatch } from 'react-redux'; // import axios from 'axios';\n// import useSWR, {mutate} from 'swr';\n\nimport { List, Button, Card } from 'antd';\nimport { StopOutlined } from '@ant-design/icons';\nimport { UNFOLLOW_REQUEST, REMOVE_FOLLOWER_REQUEST } from '../reducers/user';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction FollowList(_ref) {\n  var header = _ref.header,\n      followData = _ref.followData,\n      mutate = _ref.mutate,\n      onClickMore = _ref.onClickMore,\n      loading = _ref.loading;\n  var dispatch = useDispatch();\n\n  var onCancel = function onCancel(id) {\n    return function () {\n      if (header === 'Following') {\n        dispatch({\n          type: UNFOLLOW_REQUEST,\n          data: id\n        });\n        mutate(function (prev) {\n          return prev.filter(function (d) {\n            return d.id !== id;\n          });\n        });\n      } else {\n        dispatch({\n          type: REMOVE_FOLLOWER_REQUEST,\n          data: id\n        });\n        mutate(function (prev) {\n          return prev.filter(function (d) {\n            return d.id !== id;\n          });\n        });\n      }\n    };\n  };\n\n  return /*#__PURE__*/_jsx(List, {\n    style: {\n      marginBottom: 20\n    },\n    grid: {\n      gutter: 4,\n      xs: 2,\n      md: 3\n    },\n    size: \"small\",\n    header: /*#__PURE__*/_jsx(\"div\", {\n      children: header\n    }),\n    loadMore: /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        textAlign: 'center',\n        margin: '10px 0'\n      },\n      children: /*#__PURE__*/_jsx(Button, {\n        onClick: onClickMore,\n        loading: loading,\n        children: \"Load More\"\n      })\n    }),\n    bordered: true,\n    dataSource: followData,\n    renderItem: function renderItem(item) {\n      return /*#__PURE__*/_jsx(List.Item, {\n        style: {\n          marginTop: 20\n        },\n        children: /*#__PURE__*/_jsx(Card, {\n          actions: [/*#__PURE__*/_jsx(StopOutlined, {\n            onClick: onCancel(item.id)\n          }, \"stop\")],\n          children: /*#__PURE__*/_jsx(Card.Meta, {\n            description: item.nickname\n          })\n        })\n      });\n    }\n  });\n}\n\nexport default FollowList;","map":null,"metadata":{},"sourceType":"module"}
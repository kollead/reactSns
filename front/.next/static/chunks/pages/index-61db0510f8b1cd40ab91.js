_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return b}));var c=n("q1tI"),r=n("/MKj"),i=n("1Dl5"),a=n("ODXe"),o=n("Vl3Y"),l=n("5rEg"),s=n("2/Rp"),u=n("p+NB"),d=n("3zrx"),j=n("nKUr");var f=function(){var e=Object(r.b)(),t=Object(d.a)(),n=Object(a.a)(t,3),i=n[0],f=n[1],p=n[2],b=Object(r.c)((function(e){return e.post})),O=b.imagePaths,h=b.addPostDone,m=Object(c.useRef)();Object(c.useEffect)((function(){h&&p("")}),[h]);var g=Object(c.useCallback)((function(){if(!i||!i.trim())return alert("\uac8c\uc2dc\uae00\uc744 \uc791\uc131\ud558\uc138\uc694");var t=new FormData;return O.forEach((function(e){t.append("image",e)})),t.append("content",i),e({type:u.e,data:t})}),[i,O]),v=Object(c.useCallback)((function(){m.current.click()}),[m.current]),w=Object(c.useCallback)((function(t){console.log("images",t.target.files);var n=new FormData;[].forEach.call(t.target.files,(function(e){n.append("image",e)})),e({type:u.G,data:n})}),[]),x=Object(c.useCallback)((function(t){return function(){e({type:u.v,data:t})}}),[]);return Object(j.jsxs)(o.a,{style:{margin:"10px 0 20px"},encType:"multipart/form-data",onFinish:g,children:[Object(j.jsx)(l.a.TextArea,{value:i,onChange:f,maxLength:140,placeholder:"Share your story"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:m,onChange:w}),Object(j.jsx)(s.a,{onClick:v,children:"Image Upload"}),Object(j.jsx)(s.a,{type:"primary",style:{float:"right"},htmlType:"submit",children:"Twit"})]}),Object(j.jsx)("div",{children:O&&O.map((function(e,t){return Object(j.jsxs)("div",{style:{display:"inline-block"},onClick:x(t),onKeyDown:x(t),role:"presentation",children:[Object(j.jsx)("img",{src:"http://localhost:3065/".concat(e),style:{width:"200px"},alt:e}),Object(j.jsx)("div",{children:Object(j.jsx)(s.a,{children:"Remove"})})]},e)}))})]})},p=n("UVsj"),b=!0;t.default=function(){var e=Object(r.c)((function(e){return e.user})).user,t=Object(r.c)((function(e){return e.post})),n=t.mainPosts,a=t.hasMorePost,o=t.loadPostsLoading,l=t.retweetError,s=Object(r.b)();return Object(c.useEffect)((function(){l&&alert(l)}),[l]),Object(c.useEffect)((function(){function e(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&a&&!o){var e,t=null===(e=n[n.length-1])||void 0===e?void 0:e.id;console.log("lastId: ",t),s({type:u.n,lastId:t})}}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[a,o,n]),Object(j.jsxs)(i.a,{children:[e&&Object(j.jsx)(f,{}),n.map((function(e){return Object(j.jsx)(p.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,2,6,1,3,4,5,7,8]]]);
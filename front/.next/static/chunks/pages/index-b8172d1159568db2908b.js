_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return m}));var c=n("q1tI"),i=n("/MKj"),r=n("1Dl5"),a=n("ODXe"),o=n("qu0K"),l=n.n(o),s=n("iJl9"),u=n.n(s),d=n("4IMT"),j=n.n(d),f=n("p+NB"),b=n("3zrx"),p=n("nKUr");var O=function(){var e=Object(i.b)(),t=Object(b.a)(),n=Object(a.a)(t,3),r=n[0],o=n[1],s=n[2],d=Object(i.c)((function(e){return e.post})),O=d.imagePaths,h=d.addPostDone,m=Object(c.useRef)();Object(c.useEffect)((function(){h&&s("")}),[h]);var w=Object(c.useCallback)((function(){if(!r||!r.trim())return alert("\uac8c\uc2dc\uae00\uc744 \uc791\uc131\ud558\uc138\uc694");var t=new FormData;return O.forEach((function(e){t.append("image",e)})),t.append("content",r),e({type:f.e,data:t})}),[r,O]),g=Object(c.useCallback)((function(){m.current.click()}),[m.current]),v=Object(c.useCallback)((function(t){console.log("images",t.target.files);var n=new FormData;[].forEach.call(t.target.files,(function(e){n.append("image",e)})),e({type:f.J,data:n})}),[]),x=Object(c.useCallback)((function(t){return function(){e({type:f.y,data:t})}}),[]);return Object(p.jsxs)(l.a,{style:{margin:"10px 0 20px"},encType:"multipart/form-data",onFinish:w,children:[Object(p.jsx)(u.a.TextArea,{value:r,onChange:o,maxLength:140,placeholder:"Share your story"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:m,onChange:v}),Object(p.jsx)(j.a,{onClick:g,children:"Image Upload"}),Object(p.jsx)(j.a,{type:"primary",style:{float:"right"},htmlType:"submit",children:"Twit"})]}),Object(p.jsx)("div",{children:O&&O.map((function(e,t){return Object(p.jsxs)("div",{style:{display:"inline-block"},onClick:x(t),onKeyDown:x(t),role:"presentation",children:[Object(p.jsx)("img",{src:"http://localhost:3065/".concat(e),style:{width:"200px"},alt:e}),Object(p.jsx)("div",{children:Object(p.jsx)(j.a,{children:"Remove"})})]},e)}))})]})},h=n("UVsj"),m=!0;t.default=function(){var e=Object(i.c)((function(e){return e.user})).user,t=Object(i.c)((function(e){return e.post})),n=t.mainPosts,a=t.hasMorePost,o=t.loadPostsLoading,l=t.retweetError,s=Object(i.b)();return Object(c.useEffect)((function(){l&&alert(l)}),[l]),Object(c.useEffect)((function(){function e(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&a&&!o){var e,t=null===(e=n[n.length-1])||void 0===e?void 0:e.id;console.log("lastId: ",t),s({type:f.n,lastId:t})}}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[a,o,n]),Object(p.jsxs)(r.a,{children:[e&&Object(p.jsx)(O,{}),n.map((function(e){return Object(p.jsx)(h.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,2,1,3,4,5,6]]]);